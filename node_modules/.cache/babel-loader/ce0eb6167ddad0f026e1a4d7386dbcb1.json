{"ast":null,"code":"import swap from \"../SortAlgo/swap\"; //https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\n\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = {\n    c1: [],\n    c2: [],\n    c3: []\n  };\n  var idx = {\n    c1: 0,\n    c2: 0,\n    c3: 0\n  };\n  cluster(array, clusterMap);\n  var len = array.length; //   var offset = [0, 1, 2];\n  //   FY_Shuffle(offset);\n\n  let j;\n\n  for (j = 0; j <= len - 1; j++) {\n    if (clusterMap.c1.length > idx.c1) {\n      pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n      swap(array, j, clusterMap.c1[idx.c1++]);\n    } else if (clusterMap.c2.length > idx.c2) {\n      pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n      swap(array, j, clusterMap.c2[idx.c2++]);\n    } else if (clusterMap.c3.length > idx.c3) {\n      pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n      swap(array, j, clusterMap.c3[idx.c3++]);\n    } //  else {\n    //   if (clusterMap.c1.length > idx.c1) {\n    //     pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n    //     swap(array, j, clusterMap.c1[idx.c1++]);\n    //   } else if (clusterMap.c2.length > idx.c2) {\n    //     pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n    //     swap(array, j, clusterMap.c2[idx.c2++]);\n    //   } else if (clusterMap.c3.length > idx.c3) {\n    //     pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n    //     swap(array, j, clusterMap.c3[idx.c3++]);\n    //   }\n    // }\n\n  } //   while (\n  //     clusterMap.c1.length > idx.c1 ||\n  //     clusterMap.c2.length > idx.c2 ||\n  //     clusterMap.c3.length > idx.c3\n  //   ) {\n  //     if (clusterMap.c1.length > idx.c1) {\n  //       pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n  //       swap(array, j, clusterMap.c1[idx.c1++]);\n  //     } else if (clusterMap.c2.length > idx.c2) {\n  //       pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n  //       swap(array, j, clusterMap.c2[idx.c2++]);\n  //     } else if (clusterMap.c3.length > idx.c3) {\n  //       pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n  //       swap(array, j, clusterMap.c3[idx.c3++]);\n  //     }\n  //   }\n\n\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n\n    if (num < 300) {\n      map.c1.push(i);\n    } else if (num < 500 && num >= 300) {\n      map.c2.push(i);\n    } else {\n      map.c3.push(i);\n    }\n  }\n\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/Visualizer/ShuffleAlgo/SpotifyShuffle.js"],"names":["swap","SpotifyShuffle","array","animation","clusterMap","c1","c2","c3","idx","cluster","len","length","j","pushAnimation","i","push","map","num","FY_Shuffle","min","max","random","Math","floor"],"mappings":"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","sourcesContent":["import swap from \"../SortAlgo/swap\";\n\n//https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = { c1: [], c2: [], c3: [] };\n  var idx = { c1: 0, c2: 0, c3: 0 };\n  cluster(array, clusterMap);\n  var len = array.length;\n  //   var offset = [0, 1, 2];\n  //   FY_Shuffle(offset);\n  let j;\n  for (j = 0; j <= len - 1; j++) {\n    if (clusterMap.c1.length > idx.c1) {\n      pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n      swap(array, j, clusterMap.c1[idx.c1++]);\n    } else if (clusterMap.c2.length > idx.c2) {\n      pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n      swap(array, j, clusterMap.c2[idx.c2++]);\n    } else if (clusterMap.c3.length > idx.c3) {\n      pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n      swap(array, j, clusterMap.c3[idx.c3++]);\n    }\n    //  else {\n    //   if (clusterMap.c1.length > idx.c1) {\n    //     pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n    //     swap(array, j, clusterMap.c1[idx.c1++]);\n    //   } else if (clusterMap.c2.length > idx.c2) {\n    //     pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n    //     swap(array, j, clusterMap.c2[idx.c2++]);\n    //   } else if (clusterMap.c3.length > idx.c3) {\n    //     pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n    //     swap(array, j, clusterMap.c3[idx.c3++]);\n    //   }\n    // }\n  }\n  //   while (\n  //     clusterMap.c1.length > idx.c1 ||\n  //     clusterMap.c2.length > idx.c2 ||\n  //     clusterMap.c3.length > idx.c3\n  //   ) {\n  //     if (clusterMap.c1.length > idx.c1) {\n  //       pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n  //       swap(array, j, clusterMap.c1[idx.c1++]);\n  //     } else if (clusterMap.c2.length > idx.c2) {\n  //       pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n  //       swap(array, j, clusterMap.c2[idx.c2++]);\n  //     } else if (clusterMap.c3.length > idx.c3) {\n  //       pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n  //       swap(array, j, clusterMap.c3[idx.c3++]);\n  //     }\n  //   }\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n    if (num < 300) {\n      map.c1.push(i);\n    } else if (num < 500 && num >= 300) {\n      map.c2.push(i);\n    } else {\n      map.c3.push(i);\n    }\n  }\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;\n"]},"metadata":{},"sourceType":"module"}