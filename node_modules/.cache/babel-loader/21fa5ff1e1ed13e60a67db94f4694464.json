{"ast":null,"code":"import { UPDATEARRAY, UPDATESHUFFLEALGO, UPDATEARRAYLEN, UPDATESORTALGO, ISSORTING, SETSWAP, SETSPEED, ISDARKMODE, SETACTION, STARTSORTING, NEXTACTION } from \"../constants/actionTypes\";\nexport const setSwap = payload => ({\n  type: SETSWAP,\n  payload\n});\nexport const setSpeed = payload => ({\n  type: SETSPEED,\n  payload\n});\nexport const setSortAlgorithm = payload => ({\n  type: UPDATESORTALGO,\n  payload\n});\nexport const setShuffleAlgorithm = payload => ({\n  type: UPDATESHUFFLEALGO,\n  payload\n});\nexport const updateArray = payload => ({\n  type: UPDATEARRAY,\n  payload\n});\nexport const setArrayLen = payload => ({\n  type: UPDATEARRAYLEN,\n  payload\n});\nexport const setActions = payload => ({\n  type: SETACTION,\n  payload\n});\nexport const isSorting = payload => ({\n  type: ISSORTING,\n  payload\n});\nexport const setTheme = payload => ({\n  type: ISDARKMODE,\n  payload\n});\nexport const sleep = async ms => new Promise(r => setTimeout(r, ms));\nexport const startSorting = payload => async (dispatch, getState) => {\n  dispatch({\n    type: STARTSORTING,\n    payload\n  });\n\n  const _getState = getState(),\n        actions = _getState.actions; // console.log(actions);\n\n\n  if (actions !== null) {\n    let _getState2 = getState(),\n        isSortReady = _getState2.isSortReady,\n        speed = _getState2.speed;\n\n    while (isSortReady) {\n      let newAction = actions.next();\n      const payload = newAction.value; // console.log(payload);\n\n      if (payload === undefined) {\n        const cleanAction = {\n          type: \"clean\"\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: cleanAction\n        });\n        break;\n      }\n\n      if (payload.type === \"comparison\") {\n        const cleanAction = {\n          type: \"clean\"\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: cleanAction\n        });\n        await sleep(Math.floor(speed / 100) * (0 - 3000) + 3000);\n      } else if (payload.type === \"swap\") {\n        const swapColors = {\n          type: \"swapColors\",\n          first: payload.first,\n          second: payload.second\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: swapColors\n        });\n        await sleep(Math.floor(speed / 100) * (0 - 3000) + 3000);\n      }\n\n      dispatch({\n        type: NEXTACTION,\n        payload\n      });\n      await sleep(200); // let newState = getState();\n      // isSortReady = newState.isSortReady;\n      // newAction = newState.nextAction;\n      // speed = newState.speed;\n    }\n  }\n};\nexport const startShuffle = payload => {};","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/actions/index.ts"],"names":["UPDATEARRAY","UPDATESHUFFLEALGO","UPDATEARRAYLEN","UPDATESORTALGO","ISSORTING","SETSWAP","SETSPEED","ISDARKMODE","SETACTION","STARTSORTING","NEXTACTION","setSwap","payload","type","setSpeed","setSortAlgorithm","setShuffleAlgorithm","updateArray","setArrayLen","setActions","isSorting","setTheme","sleep","ms","Promise","r","setTimeout","startSorting","dispatch","getState","actions","isSortReady","speed","newAction","next","value","undefined","cleanAction","Math","floor","swapColors","first","second","startShuffle"],"mappings":"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","sourcesContent":["import {\n  UPDATEARRAY,\n  UPDATESHUFFLEALGO,\n  UPDATEARRAYLEN,\n  UPDATESORTALGO,\n  ISSORTING,\n  SETSWAP,\n  SETSPEED,\n  ISDARKMODE,\n  SETACTION,\n  STARTSORTING,\n  NEXTACTION,\n} from \"../constants/actionTypes\";\n\nexport const setSwap = (payload: object) => ({\n  type: SETSWAP,\n  payload,\n});\n\nexport const setSpeed = (payload: object) => ({\n  type: SETSPEED,\n  payload,\n});\n\nexport const setSortAlgorithm = (payload: object) => ({\n  type: UPDATESORTALGO,\n  payload,\n});\n\nexport const setShuffleAlgorithm = (payload: object) => ({\n  type: UPDATESHUFFLEALGO,\n  payload,\n});\n\nexport const updateArray = (payload: object) => ({\n  type: UPDATEARRAY,\n  payload,\n});\n\nexport const setArrayLen = (payload: object) => ({\n  type: UPDATEARRAYLEN,\n  payload,\n});\n\nexport const setActions = (payload: object) => ({\n  type: SETACTION,\n  payload,\n});\n\nexport const isSorting = (payload: object) => ({\n  type: ISSORTING,\n  payload,\n});\n\nexport const setTheme = (payload: object) => ({\n  type: ISDARKMODE,\n  payload,\n});\n\nexport const sleep = async (ms: number): Promise<any> =>\n  new Promise((r) => setTimeout(r, ms));\n\nexport const startSorting = (payload: object) => async (\n  dispatch: any,\n  getState: any\n) => {\n  dispatch({ type: STARTSORTING, payload });\n  const { actions } = getState();\n  // console.log(actions);\n  if (actions !== null) {\n    let { isSortReady, speed } = getState();\n    while (isSortReady) {\n      let newAction = actions.next();\n      const payload = newAction.value;\n      // console.log(payload);\n      if (payload === undefined) {\n        const cleanAction = {\n          type: \"clean\",\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: cleanAction,\n        });\n        break;\n      }\n      if (payload.type === \"comparison\") {\n        const cleanAction = {\n          type: \"clean\",\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: cleanAction,\n        });\n        await sleep(Math.floor(speed / 100) * (0 - 3000) + 3000);\n      } else if (payload.type === \"swap\") {\n        const swapColors = {\n          type: \"swapColors\",\n          first: payload.first,\n          second: payload.second,\n        };\n        dispatch({\n          type: NEXTACTION,\n          payload: swapColors,\n        });\n        await sleep(Math.floor(speed / 100) * (0 - 3000) + 3000);\n      }\n      dispatch({\n        type: NEXTACTION,\n        payload,\n      });\n      await sleep(200);\n      // let newState = getState();\n      // isSortReady = newState.isSortReady;\n      // newAction = newState.nextAction;\n      // speed = newState.speed;\n    }\n  }\n};\n\nexport const startShuffle = (payload: object) => {};\n"]},"metadata":{},"sourceType":"module"}