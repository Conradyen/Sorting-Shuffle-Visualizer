{"ast":null,"code":"import swap from \"../SortAlgo/swap\"; //https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\n\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = {\n    c1: [],\n    c2: [],\n    c3: []\n  }; //var idx = { c1: 0, c2: 0, c3: 0 };\n\n  cluster(array, clusterMap);\n  var len = array.length; //   var offset = [0, 1, 2];\n  //   FY_Shuffle(offset);\n\n  let j = 0;\n\n  while (j <= len - 1) {\n    if (clusterMap.c1.length !== 0) {\n      var idx = clusterMap.c1.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n\n    if (clusterMap.c2.length !== 0) {\n      var idx = clusterMap.c2.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n\n    if (clusterMap.c3.length !== 0) {\n      var idx = clusterMap.c3.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n  }\n\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n\n    if (num < 300) {\n      map.c1.push(i);\n    } else if (num < 500 && num >= 300) {\n      map.c2.push(i);\n    } else {\n      map.c3.push(i);\n    }\n  }\n\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/Visualizer/ShuffleAlgo/SpotifyShuffle.js"],"names":["swap","SpotifyShuffle","array","animation","clusterMap","c1","c2","c3","cluster","len","length","j","idx","pop","pushAnimation","i","push","map","num","FY_Shuffle","min","max","random","Math","floor"],"mappings":"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","sourcesContent":["import swap from \"../SortAlgo/swap\";\n\n//https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = { c1: [], c2: [], c3: [] };\n  //var idx = { c1: 0, c2: 0, c3: 0 };\n  cluster(array, clusterMap);\n  var len = array.length;\n  //   var offset = [0, 1, 2];\n  //   FY_Shuffle(offset);\n  let j = 0;\n  while (j <= len - 1) {\n    if (clusterMap.c1.length !== 0) {\n      var idx = clusterMap.c1.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n    if (clusterMap.c2.length !== 0) {\n      var idx = clusterMap.c2.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n    if (clusterMap.c3.length !== 0) {\n      var idx = clusterMap.c3.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n  }\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n    if (num < 300) {\n      map.c1.push(i);\n    } else if (num < 500 && num >= 300) {\n      map.c2.push(i);\n    } else {\n      map.c3.push(i);\n    }\n  }\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;\n"]},"metadata":{},"sourceType":"module"}