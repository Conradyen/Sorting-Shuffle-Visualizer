{"ast":null,"code":"import swap from\"../SortAlgo/swap\";//https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\nfunction SpotifyShuffle(array){var animation=[];var clusterMap={c1:[],c2:[],c3:[]};//var idx = { c1: 0, c2: 0, c3: 0 };\ncluster(array,clusterMap);var len=array.length;//   var offset = [0, 1, 2];\n//   FY_Shuffle(offset);\nvar j=0;var idx;while(j<=len-1){if(clusterMap.c1.length!==0){idx=clusterMap.c1.pop();pushAnimation(array,animation,j,idx);swap(array,j,idx);j++;}if(clusterMap.c2.length!==0){idx=clusterMap.c2.pop();pushAnimation(array,animation,j,idx);swap(array,j,idx);j++;}if(clusterMap.c3.length!==0){idx=clusterMap.c3.pop();pushAnimation(array,animation,j,idx);swap(array,j,idx);j++;}}return animation;}function pushAnimation(array,animation,i,j){animation.push([i,j]);animation.push([i,j]);animation.push([i,array[j]]);animation.push([j,array[i]]);}function cluster(array,map){for(var i=0;i<=array.length-1;i++){var num=array[i];if(num<300){map.c1.push(i);}else if(num<500&&num>=300){map.c2.push(i);}else{map.c3.push(i);}}FY_Shuffle(map.c1);FY_Shuffle(map.c2);FY_Shuffle(map.c3);}function FY_Shuffle(array){var len=array.length;for(var i=0;i<len-2;i++){var min=i;var max=len;var random=Math.floor(Math.random()*(+max-+min))+ +min;swap(array,i,random);}}export default SpotifyShuffle;","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/Visualizer/ShuffleAlgo/SpotifyShuffle.js"],"names":["swap","SpotifyShuffle","array","animation","clusterMap","c1","c2","c3","cluster","len","length","j","idx","pop","pushAnimation","i","push","map","num","FY_Shuffle","min","max","random","Math","floor"],"mappings":"AAAA,MAAOA,CAAAA,IAAP,KAAiB,kBAAjB,CAEA;AACA,QAASC,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,CAC7B,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,UAAU,CAAG,CAAEC,EAAE,CAAE,EAAN,CAAUC,EAAE,CAAE,EAAd,CAAkBC,EAAE,CAAE,EAAtB,CAAjB,CACA;AACAC,OAAO,CAACN,KAAD,CAAQE,UAAR,CAAP,CACA,GAAIK,CAAAA,GAAG,CAAGP,KAAK,CAACQ,MAAhB,CACA;AACA;AACA,GAAIC,CAAAA,CAAC,CAAG,CAAR,CACA,GAAIC,CAAAA,GAAJ,CACA,MAAOD,CAAC,EAAIF,GAAG,CAAG,CAAlB,CAAqB,CACnB,GAAIL,UAAU,CAACC,EAAX,CAAcK,MAAd,GAAyB,CAA7B,CAAgC,CAC9BE,GAAG,CAAGR,UAAU,CAACC,EAAX,CAAcQ,GAAd,EAAN,CACAC,aAAa,CAACZ,KAAD,CAAQC,SAAR,CAAmBQ,CAAnB,CAAsBC,GAAtB,CAAb,CACAZ,IAAI,CAACE,KAAD,CAAQS,CAAR,CAAWC,GAAX,CAAJ,CACAD,CAAC,GACF,CACD,GAAIP,UAAU,CAACE,EAAX,CAAcI,MAAd,GAAyB,CAA7B,CAAgC,CAC9BE,GAAG,CAAGR,UAAU,CAACE,EAAX,CAAcO,GAAd,EAAN,CACAC,aAAa,CAACZ,KAAD,CAAQC,SAAR,CAAmBQ,CAAnB,CAAsBC,GAAtB,CAAb,CACAZ,IAAI,CAACE,KAAD,CAAQS,CAAR,CAAWC,GAAX,CAAJ,CACAD,CAAC,GACF,CACD,GAAIP,UAAU,CAACG,EAAX,CAAcG,MAAd,GAAyB,CAA7B,CAAgC,CAC9BE,GAAG,CAAGR,UAAU,CAACG,EAAX,CAAcM,GAAd,EAAN,CACAC,aAAa,CAACZ,KAAD,CAAQC,SAAR,CAAmBQ,CAAnB,CAAsBC,GAAtB,CAAb,CACAZ,IAAI,CAACE,KAAD,CAAQS,CAAR,CAAWC,GAAX,CAAJ,CACAD,CAAC,GACF,CACF,CACD,MAAOR,CAAAA,SAAP,CACD,CAED,QAASW,CAAAA,aAAT,CAAuBZ,KAAvB,CAA8BC,SAA9B,CAAyCY,CAAzC,CAA4CJ,CAA5C,CAA+C,CAC7CR,SAAS,CAACa,IAAV,CAAe,CAACD,CAAD,CAAIJ,CAAJ,CAAf,EACAR,SAAS,CAACa,IAAV,CAAe,CAACD,CAAD,CAAIJ,CAAJ,CAAf,EACAR,SAAS,CAACa,IAAV,CAAe,CAACD,CAAD,CAAIb,KAAK,CAACS,CAAD,CAAT,CAAf,EACAR,SAAS,CAACa,IAAV,CAAe,CAACL,CAAD,CAAIT,KAAK,CAACa,CAAD,CAAT,CAAf,EACD,CAED,QAASP,CAAAA,OAAT,CAAiBN,KAAjB,CAAwBe,GAAxB,CAA6B,CAC3B,IAAK,GAAIF,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIb,KAAK,CAACQ,MAAN,CAAe,CAApC,CAAuCK,CAAC,EAAxC,CAA4C,CAC1C,GAAIG,CAAAA,GAAG,CAAGhB,KAAK,CAACa,CAAD,CAAf,CACA,GAAIG,GAAG,CAAG,GAAV,CAAe,CACbD,GAAG,CAACZ,EAAJ,CAAOW,IAAP,CAAYD,CAAZ,EACD,CAFD,IAEO,IAAIG,GAAG,CAAG,GAAN,EAAaA,GAAG,EAAI,GAAxB,CAA6B,CAClCD,GAAG,CAACX,EAAJ,CAAOU,IAAP,CAAYD,CAAZ,EACD,CAFM,IAEA,CACLE,GAAG,CAACV,EAAJ,CAAOS,IAAP,CAAYD,CAAZ,EACD,CACF,CACDI,UAAU,CAACF,GAAG,CAACZ,EAAL,CAAV,CACAc,UAAU,CAACF,GAAG,CAACX,EAAL,CAAV,CACAa,UAAU,CAACF,GAAG,CAACV,EAAL,CAAV,CACD,CAED,QAASY,CAAAA,UAAT,CAAoBjB,KAApB,CAA2B,CACzB,GAAMO,CAAAA,GAAG,CAAGP,KAAK,CAACQ,MAAlB,CACA,IAAK,GAAIK,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGN,GAAG,CAAG,CAA1B,CAA6BM,CAAC,EAA9B,CAAkC,CAChC,GAAIK,CAAAA,GAAG,CAAGL,CAAV,CACA,GAAIM,CAAAA,GAAG,CAAGZ,GAAV,CACA,GAAIa,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACD,MAAL,IAAiB,CAACD,GAAD,CAAO,CAACD,GAAzB,CAAX,EAA4C,EAACA,GAA1D,CACApB,IAAI,CAACE,KAAD,CAAQa,CAAR,CAAWO,MAAX,CAAJ,CACD,CACF,CAED,cAAerB,CAAAA,cAAf","sourcesContent":["import swap from \"../SortAlgo/swap\";\n\n//https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = { c1: [], c2: [], c3: [] };\n  //var idx = { c1: 0, c2: 0, c3: 0 };\n  cluster(array, clusterMap);\n  var len = array.length;\n  //   var offset = [0, 1, 2];\n  //   FY_Shuffle(offset);\n  let j = 0;\n  var idx;\n  while (j <= len - 1) {\n    if (clusterMap.c1.length !== 0) {\n      idx = clusterMap.c1.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n    if (clusterMap.c2.length !== 0) {\n      idx = clusterMap.c2.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n    if (clusterMap.c3.length !== 0) {\n      idx = clusterMap.c3.pop();\n      pushAnimation(array, animation, j, idx);\n      swap(array, j, idx);\n      j++;\n    }\n  }\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i <= array.length - 1; i++) {\n    var num = array[i];\n    if (num < 300) {\n      map.c1.push(i);\n    } else if (num < 500 && num >= 300) {\n      map.c2.push(i);\n    } else {\n      map.c3.push(i);\n    }\n  }\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;\n"]},"metadata":{},"sourceType":"module"}