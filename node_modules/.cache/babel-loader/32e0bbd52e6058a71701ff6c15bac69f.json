{"ast":null,"code":"import swap from \"../SortAlgo/swap\"; //https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\n\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = {\n    c1: [],\n    c2: [],\n    c3: [],\n    c4: [],\n    c5: [],\n    c6: []\n  };\n  var idx = {\n    c1: 0,\n    c2: 0,\n    c3: 0,\n    c4: 0,\n    c5: 0,\n    c6: 0\n  };\n  cluster(array, clusterMap);\n  var len = array.length;\n  var offset = [0, 1, 2, 3, 4, 5];\n  FY_Shuffle(offset);\n\n  for (let j = 0; j < len - 1; j++) {\n    if (j > offset[0]) {\n      pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n      swap(array, j, clusterMap.c1[idx.c1]);\n    } else if (j > offset[1]) {\n      pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n      swap(array, j, clusterMap.c2[idx.c2]);\n    } else if (j > offset[2]) {\n      pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n      swap(array, j, clusterMap.c3[idx.c3]);\n    } else if (j > offset[3]) {\n      pushAnimation(array, animation, j, clusterMap.c4[idx.c4]);\n      swap(array, j, clusterMap.c4[idx.c4]);\n    } else if (j > offset[4]) {\n      pushAnimation(array, animation, j, clusterMap.c5[idx.c5]);\n      swap(array, j, clusterMap.c5[idx.c5]);\n    } else if (j > offset[5]) {\n      pushAnimation(array, animation, j, clusterMap.c6[idx.c6]);\n      swap(array, j, clusterMap.c6[idx.c6]);\n    }\n  }\n\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n\n    if (num < 200) {\n      map.c1.push(i);\n    } else if (num < 300 && num >= 200) {\n      map.c2.push(i);\n    } else if (num < 400 && num >= 300) {\n      map.c3.push(i);\n    } else if (num < 500 && num >= 400) {\n      map.c4.push(i);\n    } else if (num < 600 && num >= 500) {\n      map.c5.push(i);\n    } else {\n      map.c6.push(i);\n    }\n  }\n\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n  FY_Shuffle(map.c4);\n  FY_Shuffle(map.c5);\n  FY_Shuffle(map.c6);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/Visualizer/ShuffleAlgo/SpotifyShuffle.js"],"names":["swap","SpotifyShuffle","array","animation","clusterMap","c1","c2","c3","c4","c5","c6","idx","cluster","len","length","offset","FY_Shuffle","j","pushAnimation","i","push","map","num","min","max","random","Math","floor"],"mappings":"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","sourcesContent":["import swap from \"../SortAlgo/swap\";\n\n//https://labs.spotify.com/2014/02/28/how-to-shuffle-songs/\nfunction SpotifyShuffle(array) {\n  var animation = [];\n  var clusterMap = { c1: [], c2: [], c3: [], c4: [], c5: [], c6: [] };\n  var idx = { c1: 0, c2: 0, c3: 0, c4: 0, c5: 0, c6: 0 };\n  cluster(array, clusterMap);\n  var len = array.length;\n  var offset = [0, 1, 2, 3, 4, 5];\n  FY_Shuffle(offset);\n  for (let j = 0; j < len - 1; j++) {\n    if (j > offset[0]) {\n      pushAnimation(array, animation, j, clusterMap.c1[idx.c1]);\n      swap(array, j, clusterMap.c1[idx.c1]);\n    } else if (j > offset[1]) {\n      pushAnimation(array, animation, j, clusterMap.c2[idx.c2]);\n      swap(array, j, clusterMap.c2[idx.c2]);\n    } else if (j > offset[2]) {\n      pushAnimation(array, animation, j, clusterMap.c3[idx.c3]);\n      swap(array, j, clusterMap.c3[idx.c3]);\n    } else if (j > offset[3]) {\n      pushAnimation(array, animation, j, clusterMap.c4[idx.c4]);\n      swap(array, j, clusterMap.c4[idx.c4]);\n    } else if (j > offset[4]) {\n      pushAnimation(array, animation, j, clusterMap.c5[idx.c5]);\n      swap(array, j, clusterMap.c5[idx.c5]);\n    } else if (j > offset[5]) {\n      pushAnimation(array, animation, j, clusterMap.c6[idx.c6]);\n      swap(array, j, clusterMap.c6[idx.c6]);\n    }\n  }\n  return animation;\n}\n\nfunction pushAnimation(array, animation, i, j) {\n  animation.push([i, j]);\n  animation.push([i, j]);\n  animation.push([i, array[j]]);\n  animation.push([j, array[i]]);\n}\n\nfunction cluster(array, map) {\n  for (let i = 0; i < array.length - 1; i++) {\n    var num = array[i];\n    if (num < 200) {\n      map.c1.push(i);\n    } else if (num < 300 && num >= 200) {\n      map.c2.push(i);\n    } else if (num < 400 && num >= 300) {\n      map.c3.push(i);\n    } else if (num < 500 && num >= 400) {\n      map.c4.push(i);\n    } else if (num < 600 && num >= 500) {\n      map.c5.push(i);\n    } else {\n      map.c6.push(i);\n    }\n  }\n  FY_Shuffle(map.c1);\n  FY_Shuffle(map.c2);\n  FY_Shuffle(map.c3);\n  FY_Shuffle(map.c4);\n  FY_Shuffle(map.c5);\n  FY_Shuffle(map.c6);\n}\n\nfunction FY_Shuffle(array) {\n  const len = array.length;\n  for (var i = 0; i < len - 2; i++) {\n    var min = i;\n    var max = len;\n    var random = Math.floor(Math.random() * (+max - +min)) + +min;\n    swap(array, i, random);\n  }\n}\n\nexport default SpotifyShuffle;\n"]},"metadata":{},"sourceType":"module"}