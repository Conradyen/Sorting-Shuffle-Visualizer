{"ast":null,"code":"var _jsxFileName = \"/Users/yen/Documents/project/sorting-algo/src/components/SortingBoard.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport SortingBar from \"./SortingBar\";\nimport { updateArray } from \"../actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  visbar: {\n    margin: \"10px\",\n    position: \"absolute\",\n    bottom: \"0\"\n  },\n  board: {\n    width: \"75vw\",\n    height: \"100vh\",\n    alignItems: \"flex-end\",\n    display: \"flex\"\n  }\n});\n\nfunction SortingBoard({\n  sortTarget,\n  updateArray,\n  nextAction,\n  speed\n}) {\n  const classes = useStyles();\n  useEffect(() => {\n    if (nextAction !== null && nextAction !== undefined) {\n      // console.log(\"use effect next action\");\n      let newArray = [...sortTarget];\n\n      if (nextAction.type === \"comparison\") {\n        newArray[nextAction.first].isCompared = true;\n        newArray[nextAction.second].isCompared = true;\n      } else if (nextAction.type === \"swapColors\") {\n        console.log(nextAction); // let newArray = [...sortTarget];\n\n        let temp = newArray[nextAction.first];\n        newArray[nextAction.first] = newArray[nextAction.second];\n        newArray[nextAction.second] = temp; // updateArray(newArray);\n      } else if (nextAction.type === \"changeColor\") {\n        // let newArray = [...sortTarget];\n        newArray[nextAction.first].isCompared = false;\n        newArray[nextAction.second].isCompared = false;\n        newArray[nextAction.first].isSwapped = true;\n        newArray[nextAction.second].isSwapped = true; // updateArray(newArray);\n      } else {\n        // let newArray = [...sortTarget];\n        newArray.forEach(b => {\n          b.isCompared = false;\n          b.isSwapped = false;\n        }); // updateArray(newArray);\n      }\n\n      updateArray(newArray);\n    }\n  }, [...sortTarget]);\n  return React.createElement(\"div\", {\n    className: classes.board,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, sortTarget.map((element, index) => React.createElement(SortingBar, {\n    element: element,\n    speed: speed,\n    width: 5,\n    index: index,\n    color: \"#1D47E6\",\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })));\n}\n\nconst mapStateToProps = state => ({\n  sortTarget: state.sortTarget,\n  nextAction: state.nextactions,\n  speed: state.speed\n});\n\nconst mapDispatchToProps = dispatch => ({\n  //update array elements\n  updateArray: arr => dispatch(updateArray(arr))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SortingBoard);","map":{"version":3,"sources":["/Users/yen/Documents/project/sorting-algo/src/components/SortingBoard.js"],"names":["React","useEffect","connect","SortingBar","updateArray","makeStyles","useStyles","visbar","margin","position","bottom","board","width","height","alignItems","display","SortingBoard","sortTarget","nextAction","speed","classes","undefined","newArray","type","first","isCompared","second","console","log","temp","isSwapped","forEach","b","map","element","index","mapStateToProps","state","nextactions","mapDispatchToProps","dispatch","arr"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport SortingBar from \"./SortingBar\";\nimport { updateArray } from \"../actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  visbar: {\n    margin: \"10px\",\n    position: \"absolute\",\n    bottom: \"0\",\n  },\n  board: {\n    width: \"75vw\",\n    height: \"100vh\",\n    alignItems: \"flex-end\",\n    display: \"flex\",\n  },\n});\n\nfunction SortingBoard({ sortTarget, updateArray, nextAction, speed }) {\n  const classes = useStyles();\n  useEffect(() => {\n    if (nextAction !== null && nextAction !== undefined) {\n      // console.log(\"use effect next action\");\n      let newArray = [...sortTarget];\n      if (nextAction.type === \"comparison\") {\n        newArray[nextAction.first].isCompared = true;\n        newArray[nextAction.second].isCompared = true;\n      } else if (nextAction.type === \"swapColors\") {\n        console.log(nextAction);\n        // let newArray = [...sortTarget];\n        let temp = newArray[nextAction.first];\n        newArray[nextAction.first] = newArray[nextAction.second];\n        newArray[nextAction.second] = temp;\n        // updateArray(newArray);\n      } else if (nextAction.type === \"changeColor\") {\n        // let newArray = [...sortTarget];\n        newArray[nextAction.first].isCompared = false;\n        newArray[nextAction.second].isCompared = false;\n        newArray[nextAction.first].isSwapped = true;\n        newArray[nextAction.second].isSwapped = true;\n        // updateArray(newArray);\n      } else {\n        // let newArray = [...sortTarget];\n        newArray.forEach((b) => {\n          b.isCompared = false;\n          b.isSwapped = false;\n        });\n        // updateArray(newArray);\n      }\n      updateArray(newArray);\n    }\n  }, [...sortTarget]);\n  return (\n    <div className={classes.board}>\n      {sortTarget.map((element, index) => (\n        <SortingBar\n          element={element}\n          speed={speed}\n          width={5}\n          index={index}\n          color=\"#1D47E6\"\n          key={index}\n        />\n      ))}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  sortTarget: state.sortTarget,\n  nextAction: state.nextactions,\n  speed: state.speed,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  //update array elements\n  updateArray: (arr) => dispatch(updateArray(arr)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SortingBoard);\n"]},"metadata":{},"sourceType":"module"}